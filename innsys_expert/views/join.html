<!DOCTYPE html>
<html lang="ko">

<head>
    <meta name="" content="" charset="utf-8">
    <title>INNSYS</title>

    <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <style type="text/css">
        body {
            background-color: #525252;
        }

        .centered-form {
            margin-top: 60px;
        }

        .centered-form .panel {
            background: rgba(255, 255, 255, 0.8);
            box-shadow: rgba(0, 0, 0, 0.3) 20px 20px 20px;
        }
    </style>

    <script src="//code.jquery.com/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="/js/util.js"></script>

    <script>
        function onClickSignUp() {
            var valName = $('#name').val();
            var valEmail = $('#email').val();
            var valPW = $('#password').val();
            var valPWConfirm = $('#confirm').val();
            var valNickname = $('#nickname').val();

            // check email format
            if (validEmailID(valEmail) == false) {
                return;
            }

            //check value
            if ($('#name').val() == "" || $('#email').val() == "" ||
                $('#password').val() == "" || $('#confirm').val() == "") {
                alert("아~! 입력");
                return;
            }

            if (valPW != valPWConfirm) {
                alert('아~! 비번 두개가 다르잖아');
                return;
            }
            // document.formSignUp.action = "/process/users/join/request";
            // document.formSignUp.submit();

            var callUrl = '/process/users/join/request';
            var dataInfo = {
                email: $('#email').val(),
                password: $('#password').val(),
                name: $('#name').val(),
                nickname: $('#nickname').val(),
                gender: ''
            }

            $.ajax({
                type: 'post',
                dataType: 'text',
                data: dataInfo,
                url: callUrl,
                cache: false,
                success: function (result) {
                    console.log('success - ' + result);
                    if (result == 'success') {
                        // location.href = '/process/users/joinComplete?resultCode=success';
                        location.href = '/process/users/joinComplete';
                    }
                },
                error: function (req, err) {;
                }
            })
        }
    </script>
</head>

<body>
    <div class="container">
        <div class="row centered-form">
            <div class="col-xs-12 col-sm-8 col-md-4 col-sm-offset-2 col-md-offset-4">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h3 class="panel-title">Please sign up for INNSYS</h3>
                    </div>
                    <div class="panel-body">
                        <form name="formSignUp" role="form" method="POST">

                            <!--Name-->
                            <div class="form-group">
                                <div class="cols-sm-10">
                                    <div class="input-group">
                                        <span class="input-group-addon"><i class="fa fa-user fa" aria-hidden="true"></i></span>
                                        <input type="text" class="form-control" name="name" id="name" placeholder="Name" />
                                    </div>
                                </div>
                            </div>

                            <!--E-Mail-->
                            <div class="form-group">
                                <div class="cols-sm-10">
                                    <div class="input-group">
                                        <span class="input-group-addon"><i class="fa fa-envelope fa" aria-hidden="true"></i></span>
                                        <input type="text" class="form-control" name="email" id="email" placeholder="Email" />
                                    </div>
                                </div>
                            </div>

                            <!--User Name-->
                            <div class="form-group">
                                <div class="cols-sm-10">
                                    <div class="input-group">
                                        <span class="input-group-addon"><i class="fa fa-users fa" aria-hidden="true"></i></span>
                                        <input type="text" class="form-control" name="username" id="username" placeholder="Username" />
                                    </div>
                                </div>
                            </div>

                            <!--Nick Name-->
                            <div class="form-group">
                                <div class="cols-sm-10">
                                    <div class="input-group">
                                        <span class="input-group-addon"><i class="fa fa-users fa" aria-hidden="true"></i></span>
                                        <input type="text" class="form-control" name="nickname" id="nickname" placeholder="Nickname" />
                                    </div>
                                </div>
                            </div>

                            <!--Password-->
                            <div class="form-group">
                                <div class="cols-sm-10">
                                    <div class="input-group">
                                        <span class="input-group-addon"><i class="fa fa-lock fa-lg" aria-hidden="true"></i></span>
                                        <input type="password" class="form-control" name="password" id="password" placeholder="Password" />
                                    </div>
                                </div>
                            </div>

                            <!--Password Confirm-->
                            <div class="form-group">
                                <div class="cols-sm-10">
                                    <div class="input-group">
                                        <span class="input-group-addon"><i class="fa fa-lock fa-lg" aria-hidden="true"></i></span>
                                        <input type="password" class="form-control" name="confirm" id="confirm" placeholder="Confirm your Password" />
                                    </div>
                                </div>
                            </div>

                            <div class="form-group">
                                <input type="button" onclick="onClickSignUp()" value="Sign up" class="btn btn-info btn-block">
                            </div>
                            <div class="login-register" style="text-align: center;">
                                <a href="/">Login</a>
                            </div>

                        </form>
                    </div>
                </div>
            </div>
        </div>

        <div>
            <p class="text-center">
                <small><strong>Innsys Corp.</strong></small><br>
                <small>대표 : 나 ㆍ 주소 :  인덕원 ㆍ 사업자등록번호:123-12-12345 ㆍ 전화 : 031-123-1234</small><br>
                <small>Copyrightⓒ Innsys Corp. All rights reserved.</small>
            </p>
        </div>
    </div>
</body>

</html>